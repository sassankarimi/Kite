{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React, { Fragment, useState } from \"react\"; //redux\n\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { setAdultArray, setChild1, setChild2, setChildArray, setInfant, setRooms, setSelValues, setTotal } from \"../redux/rooms/action\"; //UI Libraries\n\nimport { MdKeyboardArrowDown } from \"react-icons/md\";\nimport { MDBDropdown, MDBDropdownToggle, MDBDropdownMenu, MDBDropdownItem } from \"mdbreact\";\nimport { Label, Input, Button, FormGroup } from \"reactstrap\"; //used for room menu\n\nvar Counter =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Counter, _React$Component);\n\n  function Counter() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Counter);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Counter)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"increamentClicks\", function () {\n      var id = _this.props.id;\n\n      _this.props.increament(id);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"decreamentClicks\", function () {\n      var id = _this.props.id;\n\n      _this.props.decreament(id);\n    });\n\n    return _this;\n  }\n\n  _createClass(Counter, [{\n    key: \"render\",\n    value: function render() {\n      return __jsx(\"div\", {\n        className: \"counter\"\n      }, __jsx(\"button\", {\n        className: \"btn counter-btn\",\n        onClick: this.increamentClicks\n      }, \"+\"), __jsx(\"span\", null, this.props.count), __jsx(\"button\", {\n        className: \"btn counter-btn\",\n        onClick: this.decreamentClicks\n      }, \"-\"));\n    }\n  }]);\n\n  return Counter;\n}(React.Component); //used for room menu\n\n\nvar ChildCounter =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inherits(ChildCounter, _React$Component2);\n\n  function ChildCounter(props) {\n    var _this2;\n\n    _classCallCheck(this, ChildCounter);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(ChildCounter).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this2), \"increamentClicks\", function () {\n      var id = _this2.props.id;\n\n      _this2.props.increament(id);\n    });\n\n    _defineProperty(_assertThisInitialized(_this2), \"decreamentClicks\", function () {\n      var id = _this2.props.id;\n\n      _this2.props.decreament(id);\n    });\n\n    _this2.state = {\n      selValues: []\n    };\n    _this2.createUI = _this2.createUI.bind(_assertThisInitialized(_this2));\n    return _this2;\n  }\n\n  _createClass(ChildCounter, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this3 = this;\n\n      // Typical usage (don't forget to compare props):\n      if (this.props.selValues !== prevProps.selValues) {\n        this.setState({\n          selValues: this.props.selValues.filter(function (value) {\n            return value.id === _this3.props.id;\n          })\n        });\n      }\n    }\n  }, {\n    key: \"handleChangeSelectValues\",\n    value: function handleChangeSelectValues(i, e) {\n      var roomId = this.props.id; //room index\n\n      var ageValue = e.target.value; //age index\n\n      this.props.changeSelValue(roomId, i, ageValue);\n    }\n  }, {\n    key: \"createUI\",\n    value: function createUI() {\n      var _this4 = this;\n\n      return this.props.selValues[this.props.id].age.map(function (el, index) {\n        return __jsx(\"div\", {\n          key: index\n        }, __jsx(FormGroup, {\n          className: \"add-age\"\n        }, __jsx(Label, {\n          \"for\": \"exampleSelect\"\n        }, \"\\u0633\\u0646 \\u06A9\\u0648\\u062F\\u06A9 \", index + 1), __jsx(Input, {\n          type: \"select\",\n          value: el,\n          name: \"select\",\n          onChange: _this4.handleChangeSelectValues.bind(_this4, index),\n          id: \"exampleSelect\"\n        }, __jsx(\"option\", {\n          value: \"0\"\n        }, \"\\u062A\\u0627 1 \\u0633\\u0627\\u0644\"), __jsx(\"option\", {\n          value: \"1\"\n        }, \"1 \\u062A\\u0627 2 \\u0633\\u0627\\u0644\"), __jsx(\"option\", {\n          value: \"2\"\n        }, \"2 \\u062A\\u0627 3 \\u0633\\u0627\\u0644\"), __jsx(\"option\", {\n          value: \"3\"\n        }, \"3 \\u062A\\u0627 4 \\u0633\\u0627\\u0644\"), __jsx(\"option\", {\n          value: \"4\"\n        }, \"4 \\u062A\\u0627 5 \\u0633\\u0627\\u0644\"), __jsx(\"option\", {\n          value: \"5\"\n        }, \"5 \\u062A\\u0627 6 \\u0633\\u0627\\u0644\"), __jsx(\"option\", {\n          value: \"6\"\n        }, \"6 \\u062A\\u0627 7 \\u0633\\u0627\\u0644\"), __jsx(\"option\", {\n          value: \"7\"\n        }, \"7 \\u062A\\u0627 8 \\u0633\\u0627\\u0644\"), __jsx(\"option\", {\n          value: \"8\"\n        }, \"8 \\u062A\\u0627 9 \\u0633\\u0627\\u0644\"), __jsx(\"option\", {\n          value: \"9\"\n        }, \"9 \\u062A\\u0627 10 \\u0633\\u0627\\u0644\"), __jsx(\"option\", {\n          value: \"10\"\n        }, \"10 \\u062A\\u0627 11 \\u0633\\u0627\\u0644\"), __jsx(\"option\", {\n          value: \"11\"\n        }, \"11 \\u062A\\u0627 12 \\u0633\\u0627\\u0644\"))));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(\"div\", {\n        className: \"counter\"\n      }, __jsx(\"button\", {\n        className: \"btn counter-btn\",\n        onClick: this.increamentClicks\n      }, \"+\"), __jsx(\"span\", null, this.props.count), __jsx(\"button\", {\n        className: \"btn counter-btn\",\n        onClick: this.decreamentClicks\n      }, \"-\"), this.createUI());\n    }\n  }]);\n\n  return ChildCounter;\n}(React.Component);\n\nvar Rooms = function Rooms(props) {\n  var dispatch = useDispatch();\n  var rooms = useSelector(function (state) {\n    return state.roomsReducer.rooms;\n  });\n  var inc1 = useSelector(function (state) {\n    return state.roomsReducer.adultArray;\n  });\n  var inc2 = useSelector(function (state) {\n    return state.roomsReducer.childArray;\n  });\n  var selValues = useSelector(function (state) {\n    return state.roomsReducer.selValues;\n  });\n  var total = useSelector(function (state) {\n    return state.roomsReducer.total;\n  });\n  var infantCount = useSelector(function (state) {\n    return state.roomsReducer.infantCount;\n  });\n  var child1Count = useSelector(function (state) {\n    return state.roomsReducer.child1Count;\n  });\n  var child2Count = useSelector(function (state) {\n    return state.roomsReducer.child2Count;\n  });\n  var roomArr = [];\n\n  function removeRooms() {\n    //adult person\n    var tempInc1 = inc1;\n    var tempAdult;\n    tempAdult = tempInc1.pop();\n    dispatch(setAdultArray(tempInc1)); //child person\n\n    var tempInc2 = inc2;\n    var tempChild;\n    tempChild = tempInc2.pop();\n    dispatch(setChildArray(tempInc2)); //rooms\n\n    dispatch(setRooms(rooms - 1));\n    dispatch(setTotal(total - tempChild - tempAdult));\n    var tempSelValues = selValues;\n    tempSelValues = selValues.filter(function (value) {\n      return value.id !== rooms - 1;\n    });\n    dispatch(setSelValues(tempSelValues));\n    var removeRoomArray = selValues.filter(function (value) {\n      return value.id == rooms - 1;\n    });\n    var removeRoomArrayAge = removeRoomArray[0].age;\n    var numOfInfant = 0;\n    var numOfChild1 = 0;\n    var numOfChild2 = 0;\n\n    for (var j = 0; j < removeRoomArrayAge.length; j++) {\n      if (removeRoomArrayAge[j] === 0 || removeRoomArrayAge[j] === 1) {\n        numOfInfant++;\n      } else if (removeRoomArrayAge[j] === 2 || removeRoomArrayAge[j] === 3 || removeRoomArrayAge[j] === 4 || removeRoomArrayAge[j] === 5) {\n        numOfChild1++;\n      } else if (removeRoomArrayAge[j] === 6 || removeRoomArrayAge[j] === 7 || removeRoomArrayAge[j] === 8 || removeRoomArrayAge[j] === 9 || removeRoomArrayAge[j] === 10 || removeRoomArrayAge[j] === 11) {\n        numOfChild2++;\n      }\n    }\n\n    dispatch(setInfant(_parseInt(infantCount) - numOfInfant));\n    dispatch(setChild1(_parseInt(child1Count) - numOfChild1));\n    dispatch(setChild2(_parseInt(child2Count) - numOfChild2));\n  }\n\n  function addRooms() {\n    //adult person\n    var tempInc1 = [].concat(_toConsumableArray(inc1), [1]);\n    dispatch(setAdultArray(tempInc1)); //child person\n\n    var tempInc2 = [].concat(_toConsumableArray(inc2), [0]);\n    dispatch(setChildArray(tempInc2)); //rooms\n\n    dispatch(setRooms(rooms + 1));\n    dispatch(setTotal(1 + total));\n    var tempSelValues = selValues;\n    tempSelValues.push({\n      id: rooms,\n      adult: 1,\n      age: []\n    });\n    dispatch(setSelValues(tempSelValues));\n  }\n\n  function handleIncreamentA(i) {\n    var valueInc1 = inc1;\n    valueInc1[i] = inc1[i] + 1;\n    dispatch(setAdultArray(valueInc1));\n    dispatch(setTotal(total + 1));\n    var arrSel = selValues;\n    var arrAge = selValues.filter(function (value) {\n      return value.id === i;\n    });\n\n    if (arrAge.length > 0) {\n      var newObj = {\n        id: i,\n        adult: valueInc1[i],\n        age: arrAge[0].age\n      };\n      arrSel.splice(i, 1, newObj);\n    }\n\n    dispatch(setSelValues(arrSel));\n  }\n\n  function handleIncreamentB(i) {\n    var valueInc2 = inc2;\n    valueInc2[i] = inc2[i] + 1;\n    dispatch(setChildArray(valueInc2));\n    dispatch(setTotal(total + 1));\n    var arrSel = selValues;\n    var arrAge = selValues.filter(function (value) {\n      return value.id === i;\n    });\n    var newObj = {};\n\n    if (arrAge.length > 0) {\n      arrAge[0].age.push(0);\n      newObj = {\n        id: i,\n        adult: inc1[i],\n        age: arrAge[0].age\n      }; //infant first value option\n    } else {\n      newObj = {\n        id: i,\n        adult: inc1[i],\n        age: [0]\n      }; //infant first value option\n    }\n\n    dispatch(setInfant(infantCount + 1));\n    arrSel.splice(i, 1, newObj);\n    dispatch(setSelValues(arrSel));\n  }\n\n  function handleDecreamentA(i) {\n    if (inc1[i] > 1) {\n      var valueInc1 = inc1;\n      valueInc1[i] = inc1[i] - 1;\n      dispatch(setAdultArray(valueInc1));\n      dispatch(setTotal(total - 1));\n      var arrSel = selValues;\n      var arrAge = selValues.filter(function (value) {\n        return value.id === i;\n      });\n\n      if (arrAge.length > 0) {\n        var newObj = {\n          id: i,\n          adult: valueInc1[i],\n          age: arrAge[0].age\n        };\n        arrSel.splice(i, 1, newObj);\n      }\n\n      dispatch(setSelValues(arrSel));\n    }\n  }\n\n  function handleDecreamentB(i) {\n    if (inc2[i] > 0) {\n      var valueInc2 = inc2;\n      valueInc2[i] = inc2[i] - 1;\n      dispatch(setChildArray(valueInc2));\n      dispatch(setTotal(total - 1));\n      var arrSel = selValues;\n      var arrAge = selValues.filter(function (value) {\n        return value.id === i;\n      });\n\n      if (arrAge.length > 0) {\n        var childAge = arrAge[0].age.pop();\n\n        if (childAge === 0 || childAge === 1) {\n          dispatch(setInfant(_parseInt(infantCount) - 1));\n        } else if (childAge === 2 || childAge === 3 || childAge === 4 || childAge === 5) {\n          dispatch(setChild1(_parseInt(child1Count) - 1));\n        } else if (childAge === 6 || childAge === 7 || childAge === 8 || childAge === 9 || childAge === 10 || childAge === 11) {\n          dispatch(setChild2(_parseInt(child2Count) - 1));\n        }\n\n        var newObj = {\n          id: i,\n          adult: inc1[i],\n          age: arrAge[0].age\n        };\n        arrSel.splice(i, 1, newObj);\n        dispatch(setSelValues(arrSel));\n      }\n    }\n  }\n\n  function _changeSelValue(roomId, ageId, ageValue) {\n    var rooms = selValues;\n    var room = selValues.filter(function (arr) {\n      return arr.id === roomId;\n    }); //set Count of childs\n\n    if (_parseInt(room[0].age[ageId]) === 0) dispatch(setInfant(infantCount - 1));\n    if (_parseInt(room[0].age[ageId]) === 1) dispatch(setChild1(child1Count - 1));\n    if (_parseInt(room[0].age[ageId]) === 2) dispatch(setChild2(child2Count - 1));\n\n    if (_parseInt(ageValue) === 0 || _parseInt(ageValue) === 1) {\n      dispatch(setInfant(infantCount + 1));\n    }\n\n    if (_parseInt(ageValue) === 2 || _parseInt(ageValue) === 3 || _parseInt(ageValue) === 4 || _parseInt(ageValue) === 5) {\n      dispatch(setChild1(child1Count + 1));\n    }\n\n    if (_parseInt(ageValue) === 6 || _parseInt(ageValue) === 7 || _parseInt(ageValue) === 8 || _parseInt(ageValue) === 9 || _parseInt(ageValue) === 10 || _parseInt(ageValue) === 11) {\n      dispatch(setChild2(child2Count + 1));\n    }\n\n    room[0].age[ageId] = _parseInt(ageValue);\n    rooms.splice(roomId, 1, room[0]);\n    dispatch(setSelValues(rooms));\n  } //room menu structure\n\n\n  for (var i = 0; i < rooms; i++) {\n    var inc1Count = inc1[i];\n    var inc2Count = inc2[i];\n    roomArr.push(__jsx(\"div\", {\n      className: \"push-room\"\n    }, __jsx(\"hr\", null), __jsx(\"p\", {\n      className: \"room-label\"\n    }, \"\\u0627\\u062A\\u0627\\u0642 \", i + 1), __jsx(\"div\", {\n      className: \"line-counter\"\n    }, __jsx(\"span\", {\n      className: \"label\"\n    }, \"\\u0628\\u0632\\u0631\\u06AF\\u0633\\u0627\\u0644\"), __jsx(Counter, {\n      count: inc1Count,\n      id: i,\n      increament: handleIncreamentA,\n      decreament: handleDecreamentA\n    })), __jsx(\"div\", {\n      className: \"line-counter\"\n    }, __jsx(\"span\", {\n      className: \"label\"\n    }, \"\\u06A9\\u0648\\u062F\\u06A9\"), __jsx(\"div\", {\n      className: \"child-age\"\n    }, __jsx(ChildCounter, {\n      changeSelValue: function changeSelValue(roomId, ageId, ageValue) {\n        return _changeSelValue(roomId, ageId, ageValue);\n      },\n      count: inc2Count,\n      id: i,\n      selValues: selValues,\n      increament: handleIncreamentB,\n      decreament: handleDecreamentB\n    })))));\n  }\n\n  return __jsx(Fragment, null, __jsx(MDBDropdown, {\n    size: \"sm\",\n    className: \"passenger-number\"\n  }, __jsx(MDBDropdownToggle, {\n    caret: true\n  }, \"\\u0645\\u0633\\u0627\\u0641\\u0631\\u0627\\u0646 + \\u0627\\u062A\\u0627\\u0642\", __jsx(\"span\", {\n    className: \"total-num\"\n  }, total, \" \\u0645\\u0633\\u0627\\u0641\\u0631\"), __jsx(\"span\", {\n    className: \"total-num\"\n  }, rooms, \" \\u0627\\u062A\\u0627\\u0642\"), __jsx(MdKeyboardArrowDown, null)), __jsx(MDBDropdownMenu, {\n    className: \"dropdown-counter\",\n    color: \"danger\",\n    basic: true\n  }, __jsx(\"div\", {\n    className: \"add-room\"\n  }, __jsx(Button, {\n    color: \"secondary\",\n    size: \"sm\",\n    onClick: addRooms,\n    className: \"add-btn\"\n  }, \"\\u0627\\u0641\\u0632\\u0648\\u062F\\u0646 \\u0627\\u062A\\u0627\\u0642\"), roomArr.map(function (value, k) {\n    return __jsx(\"div\", {\n      key: k\n    }, value);\n  }), rooms > 1 ? __jsx(\"div\", null, __jsx(\"hr\", null), __jsx(Button, {\n    color: \"secondary\",\n    size: \"sm\",\n    onClick: removeRooms,\n    className: \"add-btn\"\n  }, \"\\u062D\\u0630\\u0641 \\u0627\\u062A\\u0627\\u0642\")) : __jsx(\"span\", null), __jsx(MDBDropdownItem, {\n    className: \"done-btn\",\n    type: \"button\"\n  }, \"\\u062A\\u0627\\u06CC\\u06CC\\u062F\")))));\n};\n\nexport default Rooms;","map":{"version":3,"sources":["C:/Users/Hope/Desktop/KiteSearchEngine/components/rooms.js"],"names":["React","Fragment","useState","useSelector","useDispatch","setAdultArray","setChild1","setChild2","setChildArray","setInfant","setRooms","setSelValues","setTotal","MdKeyboardArrowDown","MDBDropdown","MDBDropdownToggle","MDBDropdownMenu","MDBDropdownItem","Label","Input","Button","FormGroup","Counter","id","props","increament","decreament","increamentClicks","count","decreamentClicks","Component","ChildCounter","state","selValues","createUI","bind","prevProps","setState","filter","value","i","e","roomId","ageValue","target","changeSelValue","age","map","el","index","handleChangeSelectValues","Rooms","dispatch","rooms","roomsReducer","inc1","adultArray","inc2","childArray","total","infantCount","child1Count","child2Count","roomArr","removeRooms","tempInc1","tempAdult","pop","tempInc2","tempChild","tempSelValues","removeRoomArray","removeRoomArrayAge","numOfInfant","numOfChild1","numOfChild2","j","length","addRooms","push","adult","handleIncreamentA","valueInc1","arrSel","arrAge","newObj","splice","handleIncreamentB","valueInc2","handleDecreamentA","handleDecreamentB","childAge","ageId","room","arr","inc1Count","inc2Count","k"],"mappings":"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","sourcesContent":["import React, { Fragment, useState } from \"react\";\r\n\r\n//redux\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n  setAdultArray,\r\n  setChild1,\r\n  setChild2,\r\n  setChildArray,\r\n  setInfant,\r\n  setRooms,\r\n  setSelValues,\r\n  setTotal\r\n} from \"../redux/rooms/action\";\r\n\r\n//UI Libraries\r\nimport { MdKeyboardArrowDown } from \"react-icons/md\";\r\nimport {\r\n  MDBDropdown,\r\n  MDBDropdownToggle,\r\n  MDBDropdownMenu,\r\n  MDBDropdownItem\r\n} from \"mdbreact\";\r\nimport { Label, Input, Button, FormGroup } from \"reactstrap\";\r\n\r\n//used for room menu\r\nclass Counter extends React.Component {\r\n  increamentClicks = () => {\r\n    let id = this.props.id;\r\n    this.props.increament(id);\r\n  };\r\n\r\n  decreamentClicks = () => {\r\n    let id = this.props.id;\r\n    this.props.decreament(id);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"counter\">\r\n        <button className=\"btn counter-btn\" onClick={this.increamentClicks}>\r\n          +\r\n        </button>\r\n        <span>{this.props.count}</span>\r\n        <button className=\"btn counter-btn\" onClick={this.decreamentClicks}>\r\n          -\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n//used for room menu\r\nclass ChildCounter extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { selValues: [] };\r\n    this.createUI = this.createUI.bind(this);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    // Typical usage (don't forget to compare props):\r\n    if (this.props.selValues !== prevProps.selValues) {\r\n      this.setState({\r\n        selValues: this.props.selValues.filter(\r\n          value => value.id === this.props.id\r\n        )\r\n      });\r\n    }\r\n  }\r\n\r\n  increamentClicks = () => {\r\n    let id = this.props.id;\r\n    this.props.increament(id);\r\n  };\r\n\r\n  decreamentClicks = () => {\r\n    let id = this.props.id;\r\n    this.props.decreament(id);\r\n  };\r\n\r\n  handleChangeSelectValues(i, e) {\r\n    let roomId = this.props.id; //room index\r\n    let ageValue = e.target.value; //age index\r\n    this.props.changeSelValue(roomId, i, ageValue);\r\n  }\r\n\r\n  createUI() {\r\n    return this.props.selValues[this.props.id].age.map((el, index) => (\r\n      <div key={index}>\r\n        <FormGroup className=\"add-age\">\r\n          <Label for=\"exampleSelect\">سن کودک {index + 1}</Label>\r\n          <Input\r\n            type=\"select\"\r\n            value={el}\r\n            name=\"select\"\r\n            onChange={this.handleChangeSelectValues.bind(this, index)}\r\n            id=\"exampleSelect\"\r\n          >\r\n            <option value=\"0\">تا 1 سال</option>\r\n            <option value=\"1\">1 تا 2 سال</option>\r\n            <option value=\"2\">2 تا 3 سال</option>\r\n            <option value=\"3\">3 تا 4 سال</option>\r\n            <option value=\"4\">4 تا 5 سال</option>\r\n            <option value=\"5\">5 تا 6 سال</option>\r\n            <option value=\"6\">6 تا 7 سال</option>\r\n            <option value=\"7\">7 تا 8 سال</option>\r\n            <option value=\"8\">8 تا 9 سال</option>\r\n            <option value=\"9\">9 تا 10 سال</option>\r\n            <option value=\"10\">10 تا 11 سال</option>\r\n            <option value=\"11\">11 تا 12 سال</option>\r\n          </Input>\r\n        </FormGroup>\r\n      </div>\r\n    ));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"counter\">\r\n        <button className=\"btn counter-btn\" onClick={this.increamentClicks}>\r\n          +\r\n        </button>\r\n        <span>{this.props.count}</span>\r\n        <button className=\"btn counter-btn\" onClick={this.decreamentClicks}>\r\n          -\r\n        </button>\r\n        {this.createUI()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst Rooms = props => {\r\n  const dispatch = useDispatch();\r\n  const rooms = useSelector(state => state.roomsReducer.rooms);\r\n  const inc1 = useSelector(state => state.roomsReducer.adultArray);\r\n  const inc2 = useSelector(state => state.roomsReducer.childArray);\r\n  const selValues = useSelector(state => state.roomsReducer.selValues);\r\n  const total = useSelector(state => state.roomsReducer.total);\r\n  const infantCount = useSelector(state => state.roomsReducer.infantCount);\r\n  const child1Count = useSelector(state => state.roomsReducer.child1Count);\r\n  const child2Count = useSelector(state => state.roomsReducer.child2Count);\r\n  var roomArr = [];\r\n\r\n  function removeRooms() {\r\n    //adult person\r\n    let tempInc1 = inc1;\r\n    let tempAdult;\r\n    tempAdult = tempInc1.pop();\r\n    dispatch(setAdultArray(tempInc1));\r\n\r\n    //child person\r\n    let tempInc2 = inc2;\r\n    let tempChild;\r\n    tempChild = tempInc2.pop();\r\n    dispatch(setChildArray(tempInc2));\r\n\r\n    //rooms\r\n    dispatch(setRooms(rooms - 1));\r\n    dispatch(setTotal(total - tempChild - tempAdult));\r\n\r\n    let tempSelValues = selValues;\r\n    tempSelValues = selValues.filter(value => value.id !== rooms - 1);\r\n    dispatch(setSelValues(tempSelValues));\r\n\r\n    let removeRoomArray = selValues.filter(value => value.id == rooms - 1);\r\n    let removeRoomArrayAge = removeRoomArray[0].age;\r\n    let numOfInfant = 0;\r\n    let numOfChild1 = 0;\r\n    let numOfChild2 = 0;\r\n    for (var j = 0; j < removeRoomArrayAge.length; j++) {\r\n      if (removeRoomArrayAge[j] === 0 || removeRoomArrayAge[j] === 1) {\r\n        numOfInfant++;\r\n      } else if (\r\n        removeRoomArrayAge[j] === 2 ||\r\n        removeRoomArrayAge[j] === 3 ||\r\n        removeRoomArrayAge[j] === 4 ||\r\n        removeRoomArrayAge[j] === 5\r\n      ) {\r\n        numOfChild1++;\r\n      } else if (\r\n        removeRoomArrayAge[j] === 6 ||\r\n        removeRoomArrayAge[j] === 7 ||\r\n        removeRoomArrayAge[j] === 8 ||\r\n        removeRoomArrayAge[j] === 9 ||\r\n        removeRoomArrayAge[j] === 10 ||\r\n        removeRoomArrayAge[j] === 11\r\n      ) {\r\n        numOfChild2++;\r\n      }\r\n    }\r\n    dispatch(setInfant(parseInt(infantCount) - numOfInfant));\r\n    dispatch(setChild1(parseInt(child1Count) - numOfChild1));\r\n    dispatch(setChild2(parseInt(child2Count) - numOfChild2));\r\n  }\r\n\r\n  function addRooms() {\r\n    //adult person\r\n    let tempInc1 = [...inc1, 1];\r\n    dispatch(setAdultArray(tempInc1));\r\n\r\n    //child person\r\n    let tempInc2 = [...inc2, 0];\r\n    dispatch(setChildArray(tempInc2));\r\n\r\n    //rooms\r\n    dispatch(setRooms(rooms + 1));\r\n    dispatch(setTotal(1 + total));\r\n    let tempSelValues = selValues;\r\n    tempSelValues.push({ id: rooms, adult: 1, age: [] });\r\n    dispatch(setSelValues(tempSelValues));\r\n  }\r\n\r\n  function handleIncreamentA(i) {\r\n    let valueInc1 = inc1;\r\n    valueInc1[i] = inc1[i] + 1;\r\n    dispatch(setAdultArray(valueInc1));\r\n    dispatch(setTotal(total + 1));\r\n\r\n    let arrSel = selValues;\r\n    let arrAge = selValues.filter(value => value.id === i);\r\n    if (arrAge.length > 0) {\r\n      let newObj = { id: i, adult: valueInc1[i], age: arrAge[0].age };\r\n      arrSel.splice(i, 1, newObj);\r\n    }\r\n\r\n    dispatch(setSelValues(arrSel));\r\n  }\r\n\r\n  function handleIncreamentB(i) {\r\n    let valueInc2 = inc2;\r\n    valueInc2[i] = inc2[i] + 1;\r\n    dispatch(setChildArray(valueInc2));\r\n    dispatch(setTotal(total + 1));\r\n\r\n    let arrSel = selValues;\r\n    let arrAge = selValues.filter(value => value.id === i);\r\n    let newObj = {};\r\n    if (arrAge.length > 0) {\r\n      arrAge[0].age.push(0);\r\n      newObj = { id: i, adult: inc1[i], age: arrAge[0].age };\r\n      //infant first value option\r\n    } else {\r\n      newObj = { id: i, adult: inc1[i], age: [0] };\r\n      //infant first value option\r\n    }\r\n    dispatch(setInfant(infantCount + 1));\r\n    arrSel.splice(i, 1, newObj);\r\n    dispatch(setSelValues(arrSel));\r\n  }\r\n\r\n  function handleDecreamentA(i) {\r\n    if (inc1[i] > 1) {\r\n      let valueInc1 = inc1;\r\n      valueInc1[i] = inc1[i] - 1;\r\n      dispatch(setAdultArray(valueInc1));\r\n      dispatch(setTotal(total - 1));\r\n      let arrSel = selValues;\r\n      let arrAge = selValues.filter(value => value.id === i);\r\n      if (arrAge.length > 0) {\r\n        let newObj = { id: i, adult: valueInc1[i], age: arrAge[0].age };\r\n        arrSel.splice(i, 1, newObj);\r\n      }\r\n      dispatch(setSelValues(arrSel));\r\n    }\r\n  }\r\n\r\n  function handleDecreamentB(i) {\r\n    if (inc2[i] > 0) {\r\n      let valueInc2 = inc2;\r\n      valueInc2[i] = inc2[i] - 1;\r\n      dispatch(setChildArray(valueInc2));\r\n      dispatch(setTotal(total - 1));\r\n\r\n      let arrSel = selValues;\r\n      let arrAge = selValues.filter(value => value.id === i);\r\n      if (arrAge.length > 0) {\r\n        let childAge = arrAge[0].age.pop();\r\n        if (childAge === 0 || childAge === 1) {\r\n          dispatch(setInfant(parseInt(infantCount) - 1));\r\n        } else if (\r\n          childAge === 2 ||\r\n          childAge === 3 ||\r\n          childAge === 4 ||\r\n          childAge === 5\r\n        ) {\r\n          dispatch(setChild1(parseInt(child1Count) - 1));\r\n        } else if (\r\n          childAge === 6 ||\r\n          childAge === 7 ||\r\n          childAge === 8 ||\r\n          childAge === 9 ||\r\n          childAge === 10 ||\r\n          childAge === 11\r\n        ) {\r\n          dispatch(setChild2(parseInt(child2Count) - 1));\r\n        }\r\n        let newObj = { id: i, adult: inc1[i], age: arrAge[0].age };\r\n        arrSel.splice(i, 1, newObj);\r\n        dispatch(setSelValues(arrSel));\r\n      }\r\n    }\r\n  }\r\n\r\n  function changeSelValue(roomId, ageId, ageValue) {\r\n    let rooms = selValues;\r\n    let room = selValues.filter(arr => arr.id === roomId);\r\n\r\n    //set Count of childs\r\n    if (parseInt(room[0].age[ageId]) === 0)\r\n      dispatch(setInfant(infantCount - 1));\r\n    if (parseInt(room[0].age[ageId]) === 1)\r\n      dispatch(setChild1(child1Count - 1));\r\n    if (parseInt(room[0].age[ageId]) === 2)\r\n      dispatch(setChild2(child2Count - 1));\r\n\r\n    if (parseInt(ageValue) === 0 || parseInt(ageValue) === 1) {\r\n      dispatch(setInfant(infantCount + 1));\r\n    }\r\n    if (\r\n      parseInt(ageValue) === 2 ||\r\n      parseInt(ageValue) === 3 ||\r\n      parseInt(ageValue) === 4 ||\r\n      parseInt(ageValue) === 5\r\n    ) {\r\n      dispatch(setChild1(child1Count + 1));\r\n    }\r\n    if (\r\n      parseInt(ageValue) === 6 ||\r\n      parseInt(ageValue) === 7 ||\r\n      parseInt(ageValue) === 8 ||\r\n      parseInt(ageValue) === 9 ||\r\n      parseInt(ageValue) === 10 ||\r\n      parseInt(ageValue) === 11\r\n    ) {\r\n      dispatch(setChild2(child2Count + 1));\r\n    }\r\n\r\n    room[0].age[ageId] = parseInt(ageValue);\r\n    rooms.splice(roomId, 1, room[0]);\r\n    dispatch(setSelValues(rooms));\r\n  }\r\n  //room menu structure\r\n  for (var i = 0; i < rooms; i++) {\r\n    let inc1Count = inc1[i];\r\n    let inc2Count = inc2[i];\r\n    roomArr.push(\r\n      <div className=\"push-room\">\r\n        <hr />\r\n        <p className=\"room-label\">اتاق {i + 1}</p>\r\n        <div className=\"line-counter\">\r\n          <span className=\"label\">بزرگسال</span>\r\n          <Counter\r\n            count={inc1Count}\r\n            id={i}\r\n            increament={handleIncreamentA}\r\n            decreament={handleDecreamentA}\r\n          />\r\n        </div>\r\n        <div className=\"line-counter\">\r\n          <span className=\"label\">کودک</span>\r\n          <div className=\"child-age\">\r\n            <ChildCounter\r\n              changeSelValue={(roomId, ageId, ageValue) =>\r\n                changeSelValue(roomId, ageId, ageValue)\r\n              }\r\n              count={inc2Count}\r\n              id={i}\r\n              selValues={selValues}\r\n              increament={handleIncreamentB}\r\n              decreament={handleDecreamentB}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <MDBDropdown size=\"sm\" className=\"passenger-number\">\r\n        <MDBDropdownToggle caret>\r\n          مسافران + اتاق\r\n          <span className=\"total-num\">{total} مسافر</span>\r\n          <span className=\"total-num\">{rooms} اتاق</span>\r\n          <MdKeyboardArrowDown />\r\n        </MDBDropdownToggle>\r\n        <MDBDropdownMenu className=\"dropdown-counter\" color=\"danger\" basic>\r\n          <div className=\"add-room\">\r\n            <Button\r\n              color=\"secondary\"\r\n              size=\"sm\"\r\n              onClick={addRooms}\r\n              className=\"add-btn\"\r\n            >\r\n              افزودن اتاق\r\n            </Button>\r\n\r\n            {roomArr.map((value, k) => {\r\n              return <div key={k}>{value}</div>;\r\n            })}\r\n\r\n            {rooms > 1 ? (\r\n              <div>\r\n                <hr />\r\n                <Button\r\n                  color=\"secondary\"\r\n                  size=\"sm\"\r\n                  onClick={removeRooms}\r\n                  className=\"add-btn\"\r\n                >\r\n                  حذف اتاق\r\n                </Button>\r\n              </div>\r\n            ) : (\r\n              <span></span>\r\n            )}\r\n            <MDBDropdownItem className=\"done-btn\" type=\"button\">\r\n              تایید\r\n            </MDBDropdownItem>\r\n          </div>\r\n        </MDBDropdownMenu>\r\n      </MDBDropdown>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Rooms;\r\n"]},"metadata":{},"sourceType":"module"}